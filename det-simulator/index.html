<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DET Simulator - Duolingo English Test Practice</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Poppins:wght@600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Tela Inicial -->
        <div id="home-screen" class="screen active">
            <div class="home-container">
                <div class="hero-section">
                    <div class="logo-badge">
                        <svg width="60" height="60" viewBox="0 0 60 60" fill="none">
                            <circle cx="30" cy="30" r="28" fill="#58CC02" opacity="0.1"/>
                            <circle cx="30" cy="30" r="24" fill="#58CC02"/>
                            <path d="M20 30L27 37L42 22" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <h1 class="hero-title">DET Simulator</h1>
                    <p class="hero-subtitle">Pratique para o Duolingo English Test e alcance 95+ pontos</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üéØ</div>
                        <div class="stat-number" id="total-tests">0</div>
                        <div class="stat-label">Testes Completos</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚≠ê</div>
                        <div class="stat-number" id="best-score">--</div>
                        <div class="stat-label">Melhor Pontua√ß√£o</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìà</div>
                        <div class="stat-number" id="avg-score">--</div>
                        <div class="stat-label">M√©dia</div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary btn-large" id="start-full-test">
                        <span class="btn-icon">üöÄ</span>
                        <div class="btn-content">
                            <div class="btn-title">Simulado Completo</div>
                            <div class="btn-desc">~60 minutos ‚Ä¢ 52 quest√µes</div>
                        </div>
                    </button>
                    <button class="btn btn-secondary btn-large" id="start-practice">
                        <span class="btn-icon">üìù</span>
                        <div class="btn-content">
                            <div class="btn-title">Modo Pr√°tica</div>
                            <div class="btn-desc">Feedback imediato ‚Ä¢ Sem timer</div>
                        </div>
                    </button>
                    <button class="btn btn-outline btn-large" id="view-history">
                        <span class="btn-icon">üìä</span>
                        <div class="btn-content">
                            <div class="btn-title">Hist√≥rico de Progresso</div>
                            <div class="btn-desc">Veja sua evolu√ß√£o</div>
                        </div>
                    </button>
                </div>
            </div>
        </div>

        <!-- Tela de Teste -->
        <div id="test-screen" class="screen">
            <div class="test-header">
                <div class="header-left">
                    <button class="btn-icon-only" id="exit-test" title="Sair do teste">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <span class="test-mode-badge" id="mode-indicator">Modo Pr√°tica</span>
                </div>
                <div class="progress-bar-container">
                    <div class="progress-info">
                        <span id="question-counter">1 / 52</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                    </div>
                </div>
                <div class="header-right">
                    <div class="timer-display" id="timer-display">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M12 6v6l4 2"/>
                        </svg>
                        <span id="timer-text">--:--</span>
                    </div>
                </div>
            </div>

            <div class="test-content">
                <div class="question-container" id="question-container">
                    <!-- Quest√µes ser√£o renderizadas aqui dinamicamente -->
                </div>
            </div>

            <div class="test-footer">
                <button class="btn btn-secondary" id="skip-btn" style="display: none;">Pular</button>
                <button class="btn btn-primary btn-lg" id="next-btn">Pr√≥xima</button>
            </div>
        </div>

        <!-- Tela de Feedback (ap√≥s cada quest√£o no modo pr√°tica) -->
        <div id="feedback-screen" class="screen">
            <div class="feedback-container">
                <div class="feedback-icon" id="feedback-icon">
                    <!-- √çcone ser√° inserido via JS -->
                </div>
                <h2 class="feedback-title" id="feedback-title"></h2>
                <div class="feedback-content" id="feedback-content"></div>
                <button class="btn btn-primary" id="continue-btn">Continuar</button>
            </div>
        </div>

        <!-- Tela de Resultados -->
        <div id="results-screen" class="screen">
            <div class="results-container">
                <div class="results-header">
                    <h2 class="results-title">Teste Completo!</h2>
                    <p class="results-subtitle">Aqui est√° seu desempenho</p>
                </div>

                <div class="overall-score-card">
                    <div class="score-label">Pontua√ß√£o Geral</div>
                    <div class="score-value" id="overall-score">--</div>
                    <div class="score-equivalent" id="score-equivalent">--</div>
                </div>

                <div class="subscores-grid">
                    <div class="subscore-card">
                        <div class="subscore-icon">üìñ</div>
                        <div class="subscore-name">Reading</div>
                        <div class="subscore-value" id="reading-score">--</div>
                    </div>
                    <div class="subscore-card">
                        <div class="subscore-icon">‚úçÔ∏è</div>
                        <div class="subscore-name">Writing</div>
                        <div class="subscore-value" id="writing-score">--</div>
                    </div>
                    <div class="subscore-card">
                        <div class="subscore-icon">üëÇ</div>
                        <div class="subscore-name">Listening</div>
                        <div class="subscore-value" id="listening-score">--</div>
                    </div>
                    <div class="subscore-card">
                        <div class="subscore-icon">üó£Ô∏è</div>
                        <div class="subscore-name">Speaking</div>
                        <div class="subscore-value" id="speaking-score">--</div>
                    </div>
                </div>

                <div class="results-actions">
                    <button class="btn btn-primary" id="new-test-btn">Novo Teste</button>
                    <button class="btn btn-secondary" id="review-answers-btn">Revisar Respostas</button>
                    <button class="btn btn-outline" id="back-home-btn">Voltar ao In√≠cio</button>
                </div>
            </div>
        </div>

        <!-- Tela de Hist√≥rico -->
        <div id="history-screen" class="screen">
            <div class="history-container">
                <div class="history-header">
                    <button class="btn-icon-only" id="back-from-history">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 12H5M12 19l-7-7 7-7"/>
                        </svg>
                    </button>
                    <h2>Hist√≥rico de Progresso</h2>
                </div>

                <div class="chart-container">
                    <canvas id="progress-chart"></canvas>
                </div>

                <div class="history-list" id="history-list">
                    <!-- Lista de testes anteriores ser√° renderizada aqui -->
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="js/app.js"></script>
</body>
</html>
